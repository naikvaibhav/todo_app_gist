(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{117:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),a=c(25),s=c.n(a),i=(c(86),c(87),c(10)),r=(c(88),c(23)),l=c(122),d=c(74),j=c(128),u=c(129),h=c(125),b=c(16),m=c(9),p=Object(n.createContext)(),O=function(){return Object(n.useContext)(p)},x=c(1),f=function(){var e=Object(m.k)(),t=O(),c=t.authTokens,n=t.setAuthTokens,o=t.setIsloggedStatus,a=(t.IsloggedStatus,t.setUserDetails),s=t.userDetails;return Object(x.jsx)("header",{children:Object(x.jsxs)(j.a,{className:"colors-nav",variant:"dark",expand:"lg",collapseOnSelect:!0,children:[Object(x.jsx)(l.a,{children:Object(x.jsx)(d.LinkContainer,{to:"/",children:Object(x.jsx)(j.a.Brand,{children:"Todo App"})})}),c&&Object(x.jsx)("div",{children:Object(x.jsx)(u.a,{children:Object(x.jsx)(h.a,{title:Object(x.jsxs)("div",{className:"pull-left",children:[Object(x.jsx)("img",{className:"rounded-circle",src:null===s||void 0===s?void 0:s.avatar,alt:"user pic",width:"34",height:"34"})," ","Vaibhav Naik"]}),id:"basic-nav-dropdown",children:Object(x.jsxs)(h.a.Item,{onClick:function(){localStorage.clear(),e.push("/"),n(""),a(""),o(""),window.location.reload()},children:[Object(x.jsx)(b.a,{icon:"sign-out-alt"})," Logout"]})})})})]})})},g=c(62),v=c(80);function N(e){var t=e.component,c=e.isPrivate,n=Object(v.a)(e,["component","isPrivate"]),o=localStorage.getItem("todo_app_token"),a=(JSON.parse(localStorage.getItem("todo_app_userDetails")),O()),s=(a.authTokens,a.setAuthTokens,a.setIsloggedStatus,a.IsloggedStatus,a.setUserDetails,!!o);return c&&!s?Object(x.jsx)(m.c,{to:"/"}):!c&&s?Object(x.jsx)(m.c,{to:"/home"}):Object(x.jsx)(m.d,Object(g.a)(Object(g.a)({},n),{},{component:t}))}N.defaultProps={isPrivate:!1};var y,k=c(130),T=c(76),S=c(77),C=function(e){var t=e.btnName,c=e.fnCalled,n=e.size,o=e.variant,a=e.display,s=e.className,i=function(){switch(t){case"Login with github":return Object(x.jsx)(b.a,{icon:S.a});case"Export as gist":return Object(x.jsx)(b.a,{icon:"file-export"});case"Create Project":return Object(x.jsx)(b.a,{icon:"folder-plus"})}};"https://github.com/login/oauth/authorize?client_id=".concat("caa4e9c27734b844bae0","&scope=gist");return a?Object(x.jsxs)(T.a,{className:s,variant:o,size:n,block:!0,onClick:function(){return c()},children:[i()," ",t]}):Object(x.jsxs)(T.a,{className:s,variant:o,size:n,onClick:c,children:[i()," ",t]})},w=function(e){var t=e.loginTriggered;return Object(x.jsx)(k.a,{className:"my-3 p-3 rounded",children:Object(x.jsxs)(k.a.Body,{children:[Object(x.jsx)("h3",{className:"text-center py-2",children:"Login To Your Account"}),Object(x.jsx)(C,{variant:"flat",fnCalled:t,btnName:"Login with github",size:"lg",display:"block"})]})})},I=c(19),P=c.n(I);y="http://localhost:3001/api/v1";var D=function(e){e.match,e.location;var t=Object(m.k)(),c=O(),o=(c.authTokens,c.setAuthTokens),a=c.setIsloggedStatus,s=c.IsloggedStatus,i=c.setUserDetails;c.userDetails;Object(n.useEffect)((function(){var e=window.location.href;if(e.includes("?code=")){var t=e.split("?code=");t[1];P()({method:"get",url:"".concat(y,"/oauth-callback?code=").concat(t[1]),headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},mode:"cors"}).then((function(e){var t=e.data;o(t.data.jwttoken),i(t.data),a(!0)})).catch((function(e){console.log(e)}))}}),[]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{className:"text-center pt-4 mb-0 pb-0",children:"Welcome!! to the Todo app, manage your daily task to be more efficient..."}),Object(x.jsx)("div",{className:"loginCard",style:{marginLeft:"auto",marginRight:"auto"},children:Object(x.jsx)(w,{loginTriggered:function(){if(s)console.log("called else",s),t.push("/home");else{console.log("caa4e9c27734b844bae0");var e="https://github.com/login/oauth/authorize?client_id=".concat("caa4e9c27734b844bae0","&scope=gist");window.open(e,"_self")}}})})]})},L=c(55),_=c(124),z=c(79),A=c(78),B=c.n(A),E=function(e){var t=e.project;return Object(x.jsx)(r.Link,{to:{pathname:"/todolist/".concat(t.projectId),state:[{projectname:t.title}]},style:{textDecoration:"none"},children:Object(x.jsxs)(k.a,{className:"my-3 p-3 rounded d-flex",style:{minHeight:"8vw"},children:[Object(x.jsx)(k.a.Body,{className:"align-items-center d-flex justify-content-center",children:Object(x.jsx)(k.a.Title,{as:"div",children:Object(x.jsx)("strong",{children:t.title})})}),Object(x.jsxs)("footer",{className:"footer text-right text-muted",style:{fontSize:"12px"},children:["Added on : ",B()(t.createdOn).format("MMM D, YYYY")]})]})})},F=(c(123),c(126)),U=c(127),M=function(e){var t=e.setIsShow,c=e.updateToDo,o=e.selectedTodo,a=e.mode,s=e.addProject,r=e.template,l=e.templateGenerated,d=e.isTemplate,j=e.uploadAsGist,u=Object(n.useState)(null),h=Object(i.a)(u,2),m=h[0],p=h[1];return l?Object(x.jsxs)(F.a,{show:!0,centered:!0,size:"md",onClose:function(){return console.log("close called")},children:[Object(x.jsx)(F.a.Header,{children:Object(x.jsx)(F.a.Title,{as:"h5",children:"Preview of the file to be exported as gist"})}),Object(x.jsx)(F.a.Body,{children:r}),Object(x.jsxs)("div",{className:"text-center py-2",children:[Object(x.jsx)(T.a,{variant:"secondary",className:"mr-2 btn-md",onClick:function(){t(!1),d(!1)},children:"Close"}),Object(x.jsxs)(T.a,{variant:"flat",className:"mr-2 btn-md",onClick:function(){return j(r)},children:[Object(x.jsx)(b.a,{icon:"file-upload"})," ","Upload as secret gist to github"]})]})]}):Object(x.jsxs)(F.a,{show:!0,centered:!0,size:"md",children:[Object(x.jsx)(F.a.Body,{children:Object(x.jsx)(U.a.Control,{type:"text",defaultValue:null===o||void 0===o?void 0:o.description,placeholder:"update"==a?"Edit the todo":"Add the title of the project ex: Daily Task",onChange:function(e){return p(e.target.value)}})}),Object(x.jsxs)("div",{className:"text-center py-2",children:[Object(x.jsx)(T.a,{variant:"secondary",className:"mr-2 btn-sm",onClick:function(){return t(!1)},children:"Close"}),"update"==a?Object(x.jsx)(T.a,{variant:"flat",className:"mr-2 btn-sm",onClick:function(){return c(m)},children:"Update"}):Object(x.jsx)(T.a,{variant:"flat",className:"mr-2 btn-sm",onClick:function(){return s(m)},children:"Add"})]})]})},G=function(){var e=O().authTokens,t=Object(n.useState)([]),c=Object(i.a)(t,2),o=c[0],a=c[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),l=r[0],d=r[1],j=Object(n.useState)(!1),u=Object(i.a)(j,2),h=u[0],b=u[1];Object(n.useEffect)((function(){b(!1),P()({method:"get",url:"".concat(y,"/project/view"),headers:{token:e}}).then((function(e){a(Object(L.a)(e.data.data))})).catch((function(e){return console.log(e.response)}))}),[h]);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{className:"text-center py-1",children:"Project List"}),Object(x.jsx)("div",{className:"d-flex justify-content-end",children:Object(x.jsx)(C,{variant:"flat",fnCalled:function(){d(!0)},btnName:"Create Project",size:"md"})}),o.length<=0?Object(x.jsx)("h1",{className:"align-items-center d-flex justify-content-center my-auto py-2",children:"No Projects are created yet"}):Object(x.jsx)(_.a,{children:o.map((function(e,t){return Object(x.jsx)(z.a,{sm:12,md:6,lg:4,xl:3,children:Object(x.jsx)(E,{project:e})},t)}))}),Object(x.jsx)("div",{children:l?Object(x.jsx)(M,{setIsShow:d,addProject:function(t){var c={title:t};P()({method:"post",url:"".concat(y,"/project/create"),data:c,headers:{token:e}}).then((function(e){d(!1),b(!0)})).catch((function(e){return console.log(e.response)}))}}):null})]})},J=c(54),W=function(e){var t=e.todo,c=(e.index,e.status,e.markTodo),o=e.removeTodo,a=e.showModal,s=Object(n.useState)(!1),r=Object(i.a)(s,2);r[0],r[1];return Object(x.jsxs)("div",{className:"todo",children:[Object(x.jsxs)("div",{className:"d-flex justify-content-md-around",children:[Object(x.jsx)(U.a.Check,{defaultChecked:"completed"==(null===t||void 0===t?void 0:t.status),onChange:function(e){return c(t.todoId,e.target.checked)}}),Object(x.jsx)("span",{style:{textDecoration:"completed"==(null===t||void 0===t?void 0:t.status)?"line-through":""},children:t.description})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(T.a,{className:"rounded-circle",variant:"flat",size:"sm",onClick:function(){a(t)},children:Object(x.jsx)("span",{children:Object(x.jsx)(b.a,{icon:"pencil-alt"})})})," ",Object(x.jsx)(T.a,{className:"rounded-circle",variant:"flat",size:"sm",onClick:function(){return o(t.todoId)},children:Object(x.jsx)("span",{children:Object(x.jsx)(b.a,{icon:"trash"})})})]})]})},Y=function(e){var t=e.match,c=e.location,o=O().authTokens,a=t.params.projectId,s=c.state[0].projectname,r=Object(n.useState)([]),l=Object(i.a)(r,2),d=l[0],j=l[1],u=Object(n.useState)(!1),h=Object(i.a)(u,2),b=h[0],m=h[1],p=Object(n.useState)(null),f=Object(i.a)(p,2),g=f[0],v=f[1],N=Object(n.useState)(!1),T=Object(i.a)(N,2),S=T[0],w=T[1],I=Object(n.useState)(""),D=Object(i.a)(I,2),A=D[0],B=D[1],E=Object(n.useState)(""),F=Object(i.a)(E,2),G=F[0],Y=F[1],H=Object(n.useState)(""),R=Object(i.a)(H,2),V=R[0],q=R[1],K=Object(n.useState)(!1),Q=Object(i.a)(K,2),X=Q[0],Z=Q[1],$=Object(n.useRef)();Object(n.useEffect)((function(){P()({method:"get",url:"".concat(y,"/todo/view/").concat(a),headers:{token:o}}).then((function(e){return w(!1),e.data.data?j(Object(L.a)(e.data.data)):j([])})).catch((function(e){return console.log(e.response)}))}),[S]);var ee=function(e){v(e),m(!0)},te=function(e){P()({method:"delete",url:"".concat(y,"/todo/").concat(e),headers:{token:o}}).then((function(e){console.log(e),w(!0)})).catch((function(e){return console.log(e.response)}))},ce=function(e,t){var c={status:t?"completed":"todo"};P()({method:"put",url:"".concat(y,"/todo/edit/").concat(e,"/").concat(a),data:c,headers:{token:o}}).then((function(e){console.log(e),w(!0),v(null)})).catch((function(e){return console.log(e.response)}))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:"py-4",children:[Object(x.jsxs)(_.a,{className:"my-4",children:[Object(x.jsx)(z.a,{md:10,children:Object(x.jsxs)("h2",{className:"text-center",children:["Project Title: ",s.toUpperCase()]})}),Object(x.jsx)(z.a,{md:2,className:"text-right",children:Object(x.jsx)(C,{variant:"flat",fnCalled:function(){var e=d.filter((function(e){return"todo"!==e.status})).length,t=d.length,c=d.filter((function(e){if("todo"===e.status)return e.description})),n=d.filter((function(e){if("completed"===e.status)return e.description})),o={projectName:s,fileExtension:"md",pendingTodos:e,totalTodos:t,pendingTodosList:c,completedTodosList:n};!function(e){var t=Object(x.jsxs)(k.a,{children:[Object(x.jsxs)(k.a.Header,{style:{color:"#2196F3"},children:[e.projectName,".",e.fileExtension]}),Object(x.jsxs)(k.a.Body,{children:[Object(x.jsx)(k.a.Title,{as:"h2",style:{fontWeight:"600"},children:e.projectName}),Object(x.jsx)("hr",{}),Object(x.jsxs)(k.a.Text,{style:{fontWeight:"600"},children:["Summary: ",e.pendingTodos,"/",e.totalTodos," todos completed"]}),Object(x.jsxs)("div",{className:"pt-4",children:[Object(x.jsx)(k.a.Text,{style:{fontWeight:"600"},children:"Pending"}),e.pendingTodosList.map((function(e,t){return Object(x.jsxs)("div",{className:"d-flex",children:[Object(x.jsx)(U.a.Check,{}),Object(x.jsx)("span",{children:e.description})]},t)}))]}),Object(x.jsxs)("div",{className:"pt-4",children:[Object(x.jsx)(k.a.Text,{style:{fontWeight:"600"},children:"Completed"}),e.completedTodosList.map((function(e,t){return Object(x.jsxs)("div",{className:"d-flex",children:[Object(x.jsx)(U.a.Check,{defaultChecked:!0}),Object(x.jsx)("span",{children:e.description})]},t)}))]})]})]});m(!0),Y(t),Z(!0)}(o),function(e){var t="# ".concat(e.projectName,"\n## Summary: ").concat(e.pendingTodos,"/").concat(e.totalTodos," todos completed\n# Pending\n").concat(e.pendingTodosList.map((function(e){return"- [ ] ".concat(e.description)})).splice(",").join("\n"),"\n# Completed\n").concat(e.completedTodosList.map((function(e){return"- [x] ".concat(e.description)})).splice(",").join("\n"));q(t)}(o)},btnName:"Export as gist",size:"md"})})]}),Object(x.jsxs)(_.a,{children:[Object(x.jsx)(z.a,{md:10,children:Object(x.jsx)(U.a.Control,{type:"text",placeholder:"Type here to add a todo to the list...",ref:$,onChange:function(e){return B(e.target.value)}})}),Object(x.jsx)(z.a,{md:2,className:"mb-0",children:Object(x.jsx)(C,{className:"float-right",variant:"flat",fnCalled:function(){var e={description:A};P()({method:"post",url:"".concat(y,"/todo/create/").concat(a),data:e,headers:{token:o}}).then((function(e){console.log(e),w(!0),v(null),B(""),$.current.value=""})).catch((function(e){console.log(e.response),B(""),v(null)}))},btnName:"Add todo",size:"md"})})]}),d.length<=0?Object(x.jsx)("h1",{className:"align-items-center d-flex justify-content-center my-auto py-2",children:"No todos are created yet"}):Object(x.jsx)(_.a,{className:"mt-5 text-center",children:Object(x.jsx)(z.a,{children:d.map((function(e,t){return Object(x.jsx)(k.a,{className:"mb-2 py-0",children:Object(x.jsx)(k.a.Body,{style:{padding:"0.9rem"},children:Object(x.jsx)(W,{index:e.todoId,todo:e,showModal:ee,removeTodo:te,markTodo:ce},e.todoId)})},t)}))})})]}),Object(x.jsx)("div",{children:b?Object(x.jsx)(M,{template:G,templateGenerated:X,isTemplate:Z,uploadAsGist:function(){var e="".concat(s,".md"),t={description:"Gist created using the react todo application",public:!1,files:Object(J.a)({},e,{content:V})};P()({method:"post",url:"".concat(y,"/project_summary"),data:t,headers:{token:o}}).then((function(e){console.log(e),m(!1),q(""),Z(!1),Y("")})).catch((function(e){console.log(e.response)}))},setIsShow:m,updateToDo:function(e){var t={description:e};P()({method:"put",url:"".concat(y,"/todo/edit/").concat(g.todoId,"/").concat(a),data:t,headers:{token:o}}).then((function(e){console.log(e),w(!0),m(!1),v(null)})).catch((function(e){return console.log(e.response)}))},selectedTodo:g,mode:"update"}):null})]})};function H(){return Object(x.jsxs)(m.g,{children:[Object(x.jsx)(N,{path:"/login",exact:!0,component:D}),Object(x.jsx)(N,{path:"/home",component:G,isPrivate:!0}),Object(x.jsx)(N,{path:"/todolist/:projectId",component:Y,isPrivate:!0}),Object(x.jsx)(N,{component:D})]})}var R=c(33),V=c(28);R.b.add(V.h,V.f,V.a,V.e,V.g,V.d,V.b,V.c);var q=function(){var e=localStorage.getItem("todo_app_token"),t=JSON.parse(localStorage.getItem("todo_app_userDetails")),c=Object(n.useState)(e),o=Object(i.a)(c,2),a=o[0],s=o[1],d=Object(n.useState)(!1),j=Object(i.a)(d,2),u=j[0],h=j[1],b=Object(n.useState)(t),m=Object(i.a)(b,2),O=m[0],g=m[1];return Object(x.jsx)(p.Provider,{value:{authTokens:a,setAuthTokens:function(e){localStorage.setItem("todo_app_token",e),s(e)},IsloggedStatus:u,setIsloggedStatus:function(e){h(e)},userDetails:O,setUserDetails:function(e){localStorage.setItem("todo_app_userDetails",JSON.stringify(e)),g(e)}},children:Object(x.jsxs)(r.BrowserRouter,{basename:"/",children:[Object(x.jsx)(f,{}),Object(x.jsx)("main",{className:"py-3",children:Object(x.jsx)(l.a,{children:Object(x.jsx)(H,{})})})]})})},K=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,131)).then((function(t){var c=t.getCLS,n=t.getFID,o=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),o(e),a(e),s(e)}))};s.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(q,{})}),document.getElementById("root")),K()},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){}},[[117,1,2]]]);
//# sourceMappingURL=main.b7d9f192.chunk.js.map